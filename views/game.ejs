<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>发动机虚拟装配系统 - 装配游戏</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
  <link rel="stylesheet" href="/css/style.css">
</head>
<body class="game-page">
  <!-- 导航栏 -->
  <nav class="main-nav">
    <div class="nav-container">
      <div class="logo">
        <i class="fas fa-cogs"></i>
        <span>发动机虚拟装配系统</span>
      </div>
      
      <ul class="nav-links">
        <li><a href="/dashboard"><i class="fas fa-home"></i> 主页</a></li>
        <li><a href="/gallery"><i class="fas fa-images"></i> 图库</a></li>
        <li class="active"><a href="/game"><i class="fas fa-gamepad"></i> 装配游戏</a></li>
        <li><a href="/model"><i class="fas fa-cube"></i> 3D模型</a></li>
      </ul>
      
      <div class="user-panel">
        <span class="username"><i class="fas fa-user"></i> <%= username %></span>
        <a href="/logout" class="logout-btn"><i class="fas fa-sign-out-alt"></i> 退出</a>
      </div>
    </div>
  </nav>
  
  <!-- 主要内容 -->
  <main class="main-content">
    <div class="page-header">
      <h1>发动机装配游戏</h1>
      <p>测试您的发动机装配知识，拖放组件到正确的位置</p>
    </div>
    
    <div class="game-container">
      <div class="game-sidebar">
        <div class="game-info">
          <h3>游戏说明</h3>
          <p>将左侧的发动机零部件拖拽到右侧装配区域的正确位置。</p>
          <p>按照正确的装配顺序完成所有部件的装配。</p>
        </div>
        
        <div class="game-controls">
          <button id="start-game" class="game-btn primary">开始游戏</button>
          <button id="reset-game" class="game-btn">重置游戏</button>
        </div>
        
        <div class="game-score">
          <div class="score-item">
            <span class="score-label">当前得分:</span>
            <span id="current-score" class="score-value">0</span>
          </div>
          <div class="score-item">
            <span class="score-label">剩余时间:</span>
            <span id="time-left" class="score-value">300</span>
          </div>
        </div>
        
        <div class="parts-container">
          <h3>零部件库</h3>
          <div id="parts-list">
            <!-- 游戏脚本将在这里动态生成零部件 -->
          </div>
        </div>
      </div>
      
      <div class="game-main">
        <div class="assembly-area">
          <img src="/api/placeholder/600/400" alt="发动机装配区域" class="assembly-background">
          <div id="assembly-points">
            <!-- 游戏脚本将在这里动态生成装配点 -->
          </div>
        </div>
        
        <div class="game-message" id="game-message">
          <p>准备好开始装配发动机了吗？点击"开始游戏"按钮！</p>
        </div>
      </div>
    </div>
    
    <div class="game-modal" id="game-result-modal">
      <div class="game-modal-content">
        <h2 id="result-title">游戏结束</h2>
        <p id="result-message">您的得分: <span id="final-score">0</span></p>
        <div class="result-details">
          <div class="result-item">
            <span class="result-label">正确装配:</span>
            <span id="correct-parts" class="result-value">0</span>
          </div>
          <div class="result-item">
            <span class="result-label">错误尝试:</span>
            <span id="incorrect-attempts" class="result-value">0</span>
          </div>
          <div class="result-item">
            <span class="result-label">完成时间:</span>
            <span id="completion-time" class="result-value">0</span>
          </div>
        </div>
        <button id="play-again" class="game-btn primary">再玩一次</button>
        <button id="back-to-dashboard" class="game-btn">返回主页</button>
      </div>
    </div>
  </main>
  
  <!-- 页脚 -->
  <footer class="main-footer">
    <div class="footer-container">
      <div class="footer-info">
        <p>© 2025 发动机虚拟装配技术研究中心</p>
        <p>先进技术，精密工程</p>
      </div>
    </div>
  </footer>
  
  <script src="/js/game.js"></script>
</body>
</html>